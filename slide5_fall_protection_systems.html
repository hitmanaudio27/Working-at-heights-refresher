<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EBTA Working at Heights - Fall Protection Systems</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f1419 0%, #1a2332 50%, #2d3748 100%);
            color: white;
            overflow: hidden;
            height: 100vh;
            cursor: none;
        }

        .container {
            display: grid;
            grid-template-columns: 2fr 1fr;
            height: 100vh;
            gap: 3rem;
            padding: 3rem;
        }

        .main-panel {
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .sidebar {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.04));
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 3rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            overflow-y: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .sidebar::-webkit-scrollbar {
            display: none;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 160, 0, 0.05));
            border-radius: 15px;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .main-title {
            font-size: 3.8rem;
            font-weight: 300;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.5);
            background: linear-gradient(45deg, #FFD700, #FFA500, #FF8C00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: 2px;
        }

        .subtitle {
            font-size: 1.8rem;
            color: #E2E8F0;
            margin-bottom: 1rem;
            font-weight: 300;
        }

        .document-ref {
            font-size: 1.1rem;
            color: #A0AEC0;
            font-style: italic;
            font-weight: 300;
        }

        #systems-container {
            flex: 1;
            position: relative;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.01));
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 3rem;
            box-shadow: inset 0 4px 16px rgba(0, 0, 0, 0.2);
        }

        .systems-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            grid-template-rows: repeat(3, 1fr);
            gap: 2rem;
            height: 100%;
        }

        .system-card {
            background: linear-gradient(135deg, #2D3748, #4A5568);
            border-radius: 20px;
            padding: 2rem;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .system-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.1), transparent);
            transition: left 0.6s;
        }

        .system-card:hover::before {
            left: 100%;
        }

        .system-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 16px 48px rgba(255, 215, 0, 0.2);
            border-color: rgba(255, 215, 0, 0.4);
            background: linear-gradient(135deg, #3D4852, #5A6578);
        }

        .system-card.active {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #1A202C;
            border-color: #FFD700;
            box-shadow: 0 16px 48px rgba(255, 215, 0, 0.4);
            animation: activeGlow 3s ease-in-out infinite;
        }

        @keyframes activeGlow {
            0%, 100% { box-shadow: 0 16px 48px rgba(255, 215, 0, 0.4); }
            50% { box-shadow: 0 20px 60px rgba(255, 215, 0, 0.6); }
        }

        .system-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.9;
        }

        .system-title {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 0.8rem;
            line-height: 1.3;
        }

        .system-level {
            font-size: 1rem;
            opacity: 0.8;
            font-weight: 400;
            margin-bottom: 0.5rem;
        }

        .system-description {
            font-size: 0.9rem;
            opacity: 0.7;
            font-weight: 300;
            line-height: 1.3;
        }

        .hierarchy-indicator {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255, 215, 0, 0.2);
            border: 1px solid rgba(255, 215, 0, 0.4);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .sidebar-title {
            font-size: 2.2rem;
            color: #FFD700;
            margin-bottom: 2rem;
            font-weight: 600;
            text-align: center;
            border-bottom: 2px solid rgba(255, 215, 0, 0.3);
            padding-bottom: 1rem;
        }

        .selection-criteria {
            margin-bottom: 3rem;
        }

        .criteria-item {
            display: flex;
            align-items: flex-start;
            margin: 1.5rem 0;
            padding: 1.5rem;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02));
            border-radius: 12px;
            border-left: 4px solid #FFD700;
            transition: all 0.3s ease;
        }

        .criteria-item:hover {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 215, 0, 0.05));
            transform: translateX(8px);
        }

        .criteria-icon {
            font-size: 1.8rem;
            margin-right: 1.5rem;
            min-width: 50px;
            color: #FFD700;
        }

        .criteria-content h4 {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            color: #E2E8F0;
            font-weight: 600;
        }

        .criteria-content p {
            font-size: 1rem;
            color: #A0AEC0;
            line-height: 1.5;
        }

        .standards-section {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.08), rgba(255, 160, 0, 0.04));
            border-radius: 15px;
            padding: 2rem;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .standards-title {
            font-size: 1.4rem;
            color: #FFD700;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .standards-list {
            list-style: none;
            padding: 0;
        }

        .standards-list li {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02));
            margin: 0.8rem 0;
            padding: 1rem;
            border-radius: 8px;
            border-left: 3px solid #FFD700;
            font-size: 1rem;
            color: #E2E8F0;
            transition: all 0.3s ease;
        }

        .standards-list li:hover {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 215, 0, 0.05));
            transform: translateX(5px);
        }

        .popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #1A202C, #2D3748);
            border: 2px solid #FFD700;
            border-radius: 20px;
            padding: 3rem;
            max-width: 900px;
            width: 90%;
            z-index: 1000;
            display: none;
            backdrop-filter: blur(20px);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
        }

        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 999;
            display: none;
            backdrop-filter: blur(5px);
        }

        .popup-title {
            font-size: 2.2rem;
            color: #FFD700;
            margin-bottom: 1rem;
            text-align: center;
            font-weight: 600;
        }

        .popup-level {
            font-size: 1.4rem;
            color: #FFA500;
            margin-bottom: 1.5rem;
            text-align: center;
            font-weight: 500;
        }

        .popup-content {
            font-size: 1.1rem;
            line-height: 1.7;
            color: #CBD5E0;
        }

        .details-sections {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .detail-section {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02));
            border-radius: 12px;
            padding: 1.5rem;
            border-left: 4px solid #FFD700;
        }

        .detail-section h4 {
            color: #FFD700;
            font-size: 1.2rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .detail-section ul {
            list-style: none;
            padding: 0;
        }

        .detail-section li {
            margin: 0.8rem 0;
            padding: 0.8rem;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 6px;
            font-size: 1rem;
            border-left: 2px solid rgba(255, 215, 0, 0.3);
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            color: #FFD700;
            font-size: 2.5rem;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            color: #FFA500;
            transform: scale(1.1);
        }

        .footer {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.1rem;
            color: #718096;
            text-align: center;
            font-weight: 300;
        }

        /* Touch-friendly sizing for immersive projection */
        @media (min-width: 1920px) {
            .main-title { font-size: 4.8rem; }
            .subtitle { font-size: 2.4rem; }
            .system-card { padding: 2.5rem; }
            .system-icon { font-size: 3.5rem; }
            .system-title { font-size: 1.6rem; }
            .sidebar-title { font-size: 2.6rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="main-panel">
            <div class="header">
                <h1 class="main-title">FALL PROTECTION SYSTEMS</h1>
                <h2 class="subtitle">EBTA System Selection & Requirements</h2>
                <p class="document-ref">NEL-STH-NSA-5900-OHS-PRC-0008 Rev 04</p>
            </div>
            
            <div id="systems-container">
                <div class="systems-grid">
                    <!-- Level 1: Ground Level/Solid Construction -->
                    <div class="system-card" id="system1">
                        <div class="hierarchy-indicator">1</div>
                        <div class="system-icon">🏗️</div>
                        <div class="system-title">Ground Level Construction</div>
                        <div class="system-level">Level 1 - Highest Protection</div>
                        <div class="system-description">Prefabrication and permanent guardrails</div>
                    </div>
                    
                    <!-- Level 2: Fall Prevention Devices -->
                    <div class="system-card" id="system2">
                        <div class="hierarchy-indicator">2</div>
                        <div class="system-icon">🛡️</div>
                        <div class="system-title">Fall Prevention Devices</div>
                        <div class="system-level">Level 2 - High Protection</div>
                        <div class="system-description">Scaffolds, MEWPs, guardrails</div>
                    </div>
                    
                    <!-- Level 3: Work Positioning Systems -->
                    <div class="system-card" id="system3">
                        <div class="hierarchy-indicator">3</div>
                        <div class="system-icon">🔗</div>
                        <div class="system-title">Work Positioning Systems</div>
                        <div class="system-level">Level 3 - Medium Protection</div>
                        <div class="system-description">Travel restraint, rope access</div>
                    </div>
                    
                    <!-- Level 4: Fall Injury Minimisation -->
                    <div class="system-card" id="system4">
                        <div class="hierarchy-indicator">4</div>
                        <div class="system-icon">🪂</div>
                        <div class="system-title">Fall Injury Minimisation</div>
                        <div class="system-level">Level 4 - Lower Protection</div>
                        <div class="system-description">Fall arrest, safety nets</div>
                    </div>
                    
                    <!-- Level 5: Ladders -->
                    <div class="system-card" id="system5">
                        <div class="hierarchy-indicator">5</div>
                        <div class="system-icon">🪜</div>
                        <div class="system-title">Ladders</div>
                        <div class="system-level">Level 5 - Lowest Protection</div>
                        <div class="system-description">Last resort when others not practical</div>
                    </div>
                    
                    <!-- EBTA Specific Requirements -->
                    <div class="system-card" id="system6">
                        <div class="hierarchy-indicator">⚡</div>
                        <div class="system-icon">📋</div>
                        <div class="system-title">EBTA Requirements</div>
                        <div class="system-level">Compliance Standards</div>
                        <div class="system-description">Permits, competency, inspection</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="sidebar">
            <h3 class="sidebar-title">Selection Criteria</h3>
            
            <div class="selection-criteria">
                <div class="criteria-item">
                    <div class="criteria-icon">🎯</div>
                    <div class="criteria-content">
                        <h4>Risk Assessment</h4>
                        <p>Consider fall distance, consequences, and work duration</p>
                    </div>
                </div>
                
                <div class="criteria-item">
                    <div class="criteria-icon">⚖️</div>
                    <div class="criteria-content">
                        <h4>Reasonably Practicable</h4>
                        <p>Balance effectiveness, cost, and implementation feasibility</p>
                    </div>
                </div>
                
                <div class="criteria-item">
                    <div class="criteria-icon">👥</div>
                    <div class="criteria-content">
                        <h4>Competency Requirements</h4>
                        <p>Ensure personnel have appropriate training and certification</p>
                    </div>
                </div>
                
                <div class="criteria-item">
                    <div class="criteria-icon">🔧</div>
                    <div class="criteria-content">
                        <h4>Equipment Standards</h4>
                        <p>Comply with Australian Standards and EBTA specifications</p>
                    </div>
                </div>
                
                <div class="criteria-item">
                    <div class="criteria-icon">📊</div>
                    <div class="criteria-content">
                        <h4>Documentation</h4>
                        <p>WPRA, SWMS, permits, and inspection records required</p>
                    </div>
                </div>
            </div>

            <div class="standards-section">
                <div class="standards-title">Australian Standards</div>
                <ul class="standards-list">
                    <li>AS 1891 - Personal equipment for work at height</li>
                    <li>AS 1576 - Scaffolding standards</li>
                    <li>AS 4994 - Temporary edge protection</li>
                    <li>AS 5532 - Single-point anchor devices</li>
                    <li>WorkSafe Victoria Compliance Codes</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="popup-overlay" id="popup-overlay"></div>
    <div class="popup" id="popup">
        <button class="close-btn" onclick="closePopup()">&times;</button>
        <div class="popup-title" id="popup-title"></div>
        <div class="popup-level" id="popup-level"></div>
        <div class="popup-content" id="popup-content"></div>
    </div>

    <div class="footer">
        Touch any fall protection system for detailed EBTA requirements | Internal Staff Refresher Training
    </div>

    <script>
        // Enhanced fall protection systems data for EBTA internal training
        const protectionSystems = {
            system1: {
                title: "Ground Level Construction",
                level: "Level 1 - Highest Protection (Elimination)",
                sections: {
                    "EBTA Implementation": [
                        "Prefabricate bridge segments, beams, and structural elements at ground level",
                        "Design permanent guardrails and edge protection during construction phase",
                        "Plan utility installation and services routing before structure erection",
                        "Use precast concrete elements to eliminate formwork at height",
                        "Design access routes and working areas to avoid height requirements",
                        "Implement modular construction techniques with ground-level assembly"
                    ],
                    "Design Considerations": [
                        "Integrate permanent safety features into structural design",
                        "Consider crane capacity and lifting points for prefabricated elements",
                        "Plan temporary works interfaces to support ground-level construction",
                        "Design connection details accessible from protected positions",
                        "Consider maintenance access requirements in permanent design"
                    ],
                    "Documentation Requirements": [
                        "Safety in Design (SiD) workshop outcomes and decisions",
                        "Prefabrication feasibility studies and cost-benefit analysis",
                        "Lifting plans and crane selection for prefabricated elements",
                        "Permanent guardrail specifications and installation details",
                        "Interface requirements with other packages and disciplines"
                    ]
                }
            },
            system2: {
                title: "Fall Prevention Devices",
                level: "Level 2 - High Protection (Passive Systems)",
                sections: {
                    "Scaffold Systems": [
                        "Low risk scaffolds: <4m fall risk, modular/prefabricated systems",
                        "Medium risk scaffolds: >4m fall risk, safety nets, birdcage scaffolds",
                        "High risk scaffolds: Cantilevered, suspended, crane-liftable systems",
                        "All scaffolds require Temporary Works Coordinator (TWC) approval",
                        "Compliance with AS 1576 series and WorkSafe Victoria requirements"
                    ],
                    "Mobile Elevating Work Platforms (MEWPs)": [
                        "Scissor lifts for stable ground conditions and vertical access",
                        "Boom lifts for reaching over obstacles and varied positioning",
                        "Track-mounted units for rough terrain and limited access areas",
                        "Operator competency certification and daily pre-use inspections required",
                        "Ground conditions assessment and outrigger/stabiliser requirements"
                    ],
                    "Edge Protection Systems": [
                        "Handrail height: 900-1100mm with intermediate rails ≤450mm gaps",
                        "Toe boards: minimum 150mm height with ≤10mm gap to surface",
                        "Works over roads/rail: 1800mm top rail with screening requirements",
                        "Proprietary systems preferred over site-built edge protection",
                        "AS 4994 compliance and regular inspection requirements"
                    ]
                }
            },
            system3: {
                title: "Work Positioning Systems",
                level: "Level 3 - Medium Protection (Active Restraint)",
                sections: {
                    "Travel Restraint Systems": [
                        "Prevents worker from reaching unprotected edge or fall hazard",
                        "Horizontal lifeline systems with appropriate anchor points",
                        "Restraint lanyards with maximum 2m length to prevent edge approach",
                        "AS 1891 compliant harnesses and connecting devices required",
                        "System design must prevent swing fall and pendulum effects"
                    ],
                    "Industrial Rope Access": [
                        "IRATA or SPRAT certified technicians required for rope access work",
                        "Dual rope systems (working line and safety line) mandatory",
                        "Anchor point calculations and certification by competent person",
                        "Rescue procedures and emergency response plans required",
                        "Weather conditions and environmental hazard assessments"
                    ],
                    "Work Positioning Equipment": [
                        "Full body harnesses with positioning attachment points",
                        "Work positioning lanyards with load-limiting devices",
                        "Anchor devices certified to AS 5532 single-point requirements",
                        "Regular inspection and maintenance schedules documented",
                        "Competency training and certification for all users"
                    ]
                }
            },
            system4: {
                title: "Fall Injury Minimisation",
                level: "Level 4 - Lower Protection (Fall Arrest)",
                sections: {
                    "Individual Fall Arrest": [
                        "Full body harnesses with dorsal attachment point for fall arrest",
                        "Energy absorbing lanyards or self-retracting lifelines (SRLs)",
                        "Anchor points capable of 15kN minimum breaking strength",
                        "Fall clearance calculations to prevent ground/obstacle impact",
                        "Post-fall inspection and equipment replacement procedures"
                    ],
                    "Safety Net Systems": [
                        "Type A nets: Horizontal installation under work area",
                        "Type B nets: Vertical installation to catch falling persons/objects",
                        "Maximum 6m drop distance from work position to net",
                        "Regular inspection for cuts, burns, chemical damage, UV degradation",
                        "Debris removal and net tensioning maintenance requirements"
                    ],
                    "Catch Platforms": [
                        "Temporary platforms positioned to arrest falls from above",
                        "Maximum 6m vertical distance between work level and platform",
                        "Platform design load capacity including dynamic fall loads",
                        "Access and egress arrangements for rescue operations",
                        "Integration with scaffold or temporary works systems"
                    ]
                }
            },
            system5: {
                title: "Ladders",
                level: "Level 5 - Lowest Protection (Last Resort)",
                sections: {
                    "EBTA Ladder Requirements": [
                        "Only permitted when higher level controls not reasonably practicable",
                        "Must be documented and justified in Work Pack Risk Assessment (WPRA)",
                        "Working at Height Permit required for all ladder work >2m",
                        "Three-point contact maintained at all times during use",
                        "Maximum 30-minute work duration without rest break"
                    ],
                    "Ladder Selection & Setup": [
                        "Industrial grade ladders compliant with AS/NZS 1892 standards",
                        "4:1 ratio for portable ladders (1m out for every 4m up)",
                        "Secure top and bottom of ladder to prevent movement",
                        "Level, firm ground conditions with appropriate footwear",
                        "Weather conditions assessment (wind, rain, ice considerations)"
                    ],
                    "Inspection & Maintenance": [
                        "Pre-use visual inspection for damage, wear, or defects",
                        "Monthly formal inspections by competent person",
                        "Immediate removal from service if defects identified",
                        "Maintenance records and inspection documentation",
                        "Replacement criteria and disposal procedures for damaged ladders"
                    ]
                }
            },
            system6: {
                title: "EBTA Compliance Requirements",
                level: "Mandatory Documentation & Procedures",
                sections: {
                    "Permit Requirements": [
                        "Working at Height Permit for all work >2m fall risk",
                        "Permit valid for maximum 7 days or specific work scope",
                        "Daily permit review and hazard reassessment required",
                        "Permit holder competency verification and signature",
                        "Emergency contact details and rescue arrangements documented"
                    ],
                    "Competency & Training": [
                        "Working at Heights training certification for all personnel",
                        "Equipment-specific training (harness, MEWP, scaffold, rope access)",
                        "Refresher training every 3 years or after incident/near miss",
                        "Competency assessment and verification by qualified assessor",
                        "Training records maintained in personnel files"
                    ],
                    "Inspection & Documentation": [
                        "Pre-use equipment inspections by competent person",
                        "Formal equipment inspections every 6 months minimum",
                        "Inspection records maintained for equipment lifecycle",
                        "Incident reporting and investigation procedures",
                        "Equipment defect reporting and removal from service protocols"
                    ]
                }
            }
        };

        let currentSystem = null;
        let animationInterval = null;

        function init() {
            // Add event listeners to all system cards
            document.querySelectorAll('.system-card').forEach(card => {
                card.addEventListener('click', handleSystemClick);
                card.addEventListener('touchstart', handleTouchStart);
            });

            // Add overlay click listener
            document.getElementById('popup-overlay').addEventListener('click', closePopup);

            // Start professional animation sequence
            startAnimationSequence();
        }

        function handleSystemClick(event) {
            const systemId = event.currentTarget.id;
            showPopup(systemId);
            highlightSystem(systemId);
        }

        function handleTouchStart(event) {
            event.preventDefault();
            const systemId = event.currentTarget.id;
            showPopup(systemId);
            highlightSystem(systemId);
        }

        function highlightSystem(systemId) {
            // Remove active class from all systems
            document.querySelectorAll('.system-card').forEach(card => {
                card.classList.remove('active');
            });
            
            // Add active class to selected system
            document.getElementById(systemId).classList.add('active');
            currentSystem = systemId;
        }

        function showPopup(systemId) {
            const popup = document.getElementById('popup');
            const overlay = document.getElementById('popup-overlay');
            const title = document.getElementById('popup-title');
            const level = document.getElementById('popup-level');
            const content = document.getElementById('popup-content');
            const systemData = protectionSystems[systemId];

            title.textContent = systemData.title;
            level.textContent = systemData.level;
            
            let sectionsHtml = '<div class="details-sections">';
            Object.entries(systemData.sections).forEach(([sectionTitle, items]) => {
                sectionsHtml += `
                    <div class="detail-section">
                        <h4>${sectionTitle}</h4>
                        <ul>
                            ${items.map(item => `<li>${item}</li>`).join('')}
                        </ul>
                    </div>
                `;
            });
            sectionsHtml += '</div>';
            
            content.innerHTML = sectionsHtml;

            overlay.style.display = 'block';
            popup.style.display = 'block';

            // Auto-close after 20 seconds for internal training
            setTimeout(() => {
                closePopup();
            }, 20000);
        }

        function closePopup() {
            document.getElementById('popup-overlay').style.display = 'none';
            document.getElementById('popup').style.display = 'none';
            
            // Remove active class from current system
            if (currentSystem) {
                document.getElementById(currentSystem).classList.remove('active');
                currentSystem = null;
            }
        }

        function startAnimationSequence() {
            let systemIndex = 1;
            
            animationInterval = setInterval(() => {
                // Remove active class from all systems
                document.querySelectorAll('.system-card').forEach(card => {
                    card.classList.remove('active');
                });
                
                // Add active class to current system
                const currentSystemElement = document.getElementById(`system${systemIndex}`);
                if (currentSystemElement) {
                    currentSystemElement.classList.add('active');
                }
                
                systemIndex++;
                if (systemIndex > 6) {
                    systemIndex = 1;
                }
            }, 3500); // Professional timing for fall protection systems
        }

        // Keyboard support for accessibility
        document.addEventListener('keydown', (event) => {
            if (event.key === 'Escape') {
                closePopup();
            }
        });

        // Initialize when page loads
        window.addEventListener('load', init);

        // Clean up on page unload
        window.addEventListener('beforeunload', () => {
            if (animationInterval) {
                clearInterval(animationInterval);
            }
        });
    </script>
</body>
</html>
