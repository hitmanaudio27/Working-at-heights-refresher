<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EBTA Working at Heights - Risk Management Procedure</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f1419 0%, #1a2332 50%, #2d3748 100%);
            color: white;
            overflow: hidden;
            height: 100vh;
            cursor: none;
        }

        .container {
            display: grid;
            grid-template-columns: 2fr 1fr;
            height: 100vh;
            gap: 3rem;
            padding: 3rem;
        }

        .main-panel {
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .sidebar {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.04));
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 3rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 160, 0, 0.05));
            border-radius: 15px;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .main-title {
            font-size: 4rem;
            font-weight: 300;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.5);
            background: linear-gradient(45deg, #FFD700, #FFA500, #FF8C00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: 2px;
        }

        .subtitle {
            font-size: 1.8rem;
            color: #E2E8F0;
            margin-bottom: 1rem;
            font-weight: 300;
        }

        .document-ref {
            font-size: 1.1rem;
            color: #A0AEC0;
            font-style: italic;
            font-weight: 300;
        }

        #process-container {
            flex: 1;
            position: relative;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.01));
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 3rem;
            box-shadow: inset 0 4px 16px rgba(0, 0, 0, 0.2);
        }

        .process-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(2, 1fr);
            gap: 2.5rem;
            height: 100%;
            align-items: center;
        }

        .process-step {
            background: linear-gradient(135deg, #2D3748, #4A5568);
            border-radius: 20px;
            padding: 2.5rem 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }

        .process-step::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.1), transparent);
            transition: left 0.6s;
        }

        .process-step:hover::before {
            left: 100%;
        }

        .process-step:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 16px 48px rgba(255, 215, 0, 0.2);
            border-color: rgba(255, 215, 0, 0.4);
            background: linear-gradient(135deg, #3D4852, #5A6578);
        }

        .process-step.active {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #1A202C;
            border-color: #FFD700;
            box-shadow: 0 16px 48px rgba(255, 215, 0, 0.4);
            animation: activeGlow 3s ease-in-out infinite;
        }

        @keyframes activeGlow {
            0%, 100% { box-shadow: 0 16px 48px rgba(255, 215, 0, 0.4); }
            50% { box-shadow: 0 20px 60px rgba(255, 215, 0, 0.6); }
        }

        .step-number {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            opacity: 0.9;
        }

        .step-title {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 0.8rem;
            line-height: 1.3;
        }

        .step-subtitle {
            font-size: 1rem;
            opacity: 0.8;
            font-weight: 400;
        }

        .flow-arrow {
            position: absolute;
            font-size: 2rem;
            color: #FFD700;
            z-index: 10;
            animation: arrowPulse 2s ease-in-out infinite;
        }

        @keyframes arrowPulse {
            0%, 100% { opacity: 0.6; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
        }

        .arrow-right { right: -1.5rem; top: 50%; transform: translateY(-50%); }
        .arrow-down { bottom: -1.5rem; left: 50%; transform: translateX(-50%); }
        .arrow-up { top: -1.5rem; left: 50%; transform: translateX(-50%); }

        .sidebar-title {
            font-size: 2.2rem;
            color: #FFD700;
            margin-bottom: 2rem;
            font-weight: 600;
            text-align: center;
            border-bottom: 2px solid rgba(255, 215, 0, 0.3);
            padding-bottom: 1rem;
        }

        .process-overview {
            margin-bottom: 3rem;
        }

        .overview-item {
            display: flex;
            align-items: flex-start;
            margin: 1.5rem 0;
            padding: 1.5rem;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02));
            border-radius: 12px;
            border-left: 4px solid #FFD700;
            transition: all 0.3s ease;
        }

        .overview-item:hover {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 215, 0, 0.05));
            transform: translateX(8px);
        }

        .item-number {
            font-size: 1.8rem;
            font-weight: 700;
            margin-right: 1.5rem;
            min-width: 50px;
            color: #FFD700;
        }

        .item-content h4 {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            color: #E2E8F0;
            font-weight: 600;
        }

        .item-content p {
            font-size: 1rem;
            color: #A0AEC0;
            line-height: 1.5;
        }

        .key-principles {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.08), rgba(255, 160, 0, 0.04));
            border-radius: 15px;
            padding: 2rem;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .principles-title {
            font-size: 1.4rem;
            color: #FFD700;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .principles-content {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #E2E8F0;
        }

        .popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #1A202C, #2D3748);
            border: 2px solid #FFD700;
            border-radius: 20px;
            padding: 3rem;
            max-width: 700px;
            width: 90%;
            z-index: 1000;
            display: none;
            backdrop-filter: blur(20px);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
        }

        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 999;
            display: none;
            backdrop-filter: blur(5px);
        }

        .popup-title {
            font-size: 2.2rem;
            color: #FFD700;
            margin-bottom: 1.5rem;
            text-align: center;
            font-weight: 600;
        }

        .popup-description {
            font-size: 1.3rem;
            color: #E2E8F0;
            margin-bottom: 2rem;
            text-align: center;
            font-weight: 500;
        }

        .popup-content {
            font-size: 1.1rem;
            line-height: 1.7;
            color: #CBD5E0;
        }

        .details-list {
            list-style: none;
            padding: 0;
        }

        .details-list li {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02));
            margin: 1rem 0;
            padding: 1.2rem;
            border-radius: 10px;
            border-left: 3px solid #FFD700;
            transition: all 0.3s ease;
        }

        .details-list li:hover {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 215, 0, 0.05));
            transform: translateX(5px);
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            color: #FFD700;
            font-size: 2.5rem;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            color: #FFA500;
            transform: scale(1.1);
        }

        .footer {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.1rem;
            color: #718096;
            text-align: center;
            font-weight: 300;
        }

        /* Touch-friendly sizing for immersive projection */
        @media (min-width: 1920px) {
            .main-title { font-size: 5rem; }
            .subtitle { font-size: 2.4rem; }
            .process-step { padding: 3rem 2.5rem; }
            .step-number { font-size: 3.5rem; }
            .step-title { font-size: 1.6rem; }
            .sidebar-title { font-size: 2.6rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="main-panel">
            <div class="header">
                <h1 class="main-title">RISK MANAGEMENT</h1>
                <h2 class="subtitle">EBTA Working at Heights Procedure</h2>
                <p class="document-ref">Document: NEL-STH-NSA-5900-OHS-PRC-0008 Rev 04</p>
            </div>
            
            <div id="process-container">
                <div class="process-grid">
                    <!-- Step 1: Safety in Design -->
                    <div class="process-step" id="step1">
                        <div class="step-number">01</div>
                        <div class="step-title">Safety in Design</div>
                        <div class="step-subtitle">SiD Workshops</div>
                        <div class="flow-arrow arrow-right">→</div>
                    </div>
                    
                    <!-- Step 2: Package Risk Assessment -->
                    <div class="process-step" id="step2">
                        <div class="step-number">02</div>
                        <div class="step-title">Package Risk Assessment</div>
                        <div class="step-subtitle">High-Level PRA</div>
                        <div class="flow-arrow arrow-right">→</div>
                    </div>
                    
                    <!-- Step 3: Work Pack Risk Assessment -->
                    <div class="process-step" id="step3">
                        <div class="step-number">03</div>
                        <div class="step-title">Work Pack Risk Assessment</div>
                        <div class="step-subtitle">Detailed WPRA</div>
                        <div class="flow-arrow arrow-down">↓</div>
                    </div>
                    
                    <!-- Step 6: Implementation & Monitoring -->
                    <div class="process-step" id="step6">
                        <div class="step-number">06</div>
                        <div class="step-title">Implementation & Monitoring</div>
                        <div class="step-subtitle">Execute & Review</div>
                        <div class="flow-arrow arrow-right">←</div>
                    </div>
                    
                    <!-- Step 5: SWMS Development -->
                    <div class="process-step" id="step5">
                        <div class="step-number">05</div>
                        <div class="step-title">SWMS Development</div>
                        <div class="step-subtitle">Method Statements</div>
                        <div class="flow-arrow arrow-right">←</div>
                    </div>
                    
                    <!-- Step 4: Apply Hierarchy of Controls -->
                    <div class="process-step" id="step4">
                        <div class="step-number">04</div>
                        <div class="step-title">Apply Hierarchy of Controls</div>
                        <div class="step-subtitle">5-Level Framework</div>
                        <div class="flow-arrow arrow-up">↑</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="sidebar">
            <h3 class="sidebar-title">Process Overview</h3>
            
            <div class="process-overview">
                <div class="overview-item">
                    <div class="item-number">01</div>
                    <div class="item-content">
                        <h4>Safety in Design</h4>
                        <p>Eliminate risks during design phase through structured workshops</p>
                    </div>
                </div>
                
                <div class="overview-item">
                    <div class="item-number">02</div>
                    <div class="item-content">
                        <h4>Package Risk Assessment</h4>
                        <p>High-level identification across entire package scope</p>
                    </div>
                </div>
                
                <div class="overview-item">
                    <div class="item-number">03</div>
                    <div class="item-content">
                        <h4>Work Pack Risk Assessment</h4>
                        <p>Detailed analysis with supply chain collaboration</p>
                    </div>
                </div>
                
                <div class="overview-item">
                    <div class="item-number">04</div>
                    <div class="item-content">
                        <h4>Hierarchy of Controls</h4>
                        <p>Apply 5-level framework starting with elimination</p>
                    </div>
                </div>
                
                <div class="overview-item">
                    <div class="item-number">05</div>
                    <div class="item-content">
                        <h4>SWMS Development</h4>
                        <p>Translate controls into detailed method statements</p>
                    </div>
                </div>
                
                <div class="overview-item">
                    <div class="item-number">06</div>
                    <div class="item-content">
                        <h4>Implementation</h4>
                        <p>Execute controls with continuous monitoring</p>
                    </div>
                </div>
            </div>

            <div class="key-principles">
                <div class="principles-title">Prevention-First Approach</div>
                <div class="principles-content">
                    EBTA emphasises controls that prevent exposure to risk by eliminating that risk. Administrative controls and PPE should not be relied upon as the primary means to control risks.
                </div>
            </div>
        </div>
    </div>

    <div class="popup-overlay" id="popup-overlay"></div>
    <div class="popup" id="popup">
        <button class="close-btn" onclick="closePopup()">&times;</button>
        <div class="popup-title" id="popup-title"></div>
        <div class="popup-description" id="popup-description"></div>
        <div class="popup-content" id="popup-content"></div>
    </div>

    <div class="footer">
        Touch any process step for detailed requirements | EBTA Working at Heights Professional Training
    </div>

    <script>
        // Enhanced process step data for professional presentation
        const processSteps = {
            step1: {
                title: "Safety in Design (SiD)",
                description: "Eliminate height risks during design and planning phase",
                details: [
                    "Conduct structured SiD workshops during design development phase",
                    "Engage multidisciplinary teams including designers, engineers, and safety professionals",
                    "Identify height work requirements and associated risks during construction",
                    "Eliminate hazards where reasonably practicable through design modifications",
                    "Consider permanent guardrails, edge protection, and access solutions",
                    "Plan prefabrication opportunities to reduce height work requirements",
                    "Transfer remaining risks to subsequent risk assessment processes"
                ]
            },
            step2: {
                title: "Package Risk Assessment (PRA)",
                description: "High-level risk identification across entire package scope",
                details: [
                    "Identify major height work activities across the entire package scope",
                    "Assess interface risks with adjacent packages and existing infrastructure",
                    "Evaluate temporary works requirements and associated height risks",
                    "Identify competency requirements and resource allocation needs",
                    "Consider environmental factors and site-specific constraints",
                    "Document high-level control strategies and risk mitigation approaches",
                    "Establish framework for detailed Work Pack Risk Assessments"
                ]
            },
            step3: {
                title: "Work Pack Risk Assessment (WPRA)",
                description: "Detailed risk analysis for specific work activities with supply chain input",
                details: [
                    "Conduct Work Pack Risk Assessment Workshops (WRAW) with all stakeholders",
                    "Include supply chain partners, subcontractors, and specialist advisors",
                    "Identify specific height work tasks, sequences, and methodologies",
                    "Assess fall distances, potential consequences, and injury severity",
                    "Evaluate dropped object risks and impact zones",
                    "Consider weather conditions, time constraints, and operational factors",
                    "Document detailed risk ratings using EBTA risk matrix methodology"
                ]
            },
            step4: {
                title: "Apply Hierarchy of Controls",
                description: "Implement EBTA's 5-level hierarchy starting with elimination",
                details: [
                    "Level 1: Eliminate height requirements through design and planning",
                    "Level 2: Substitute fall restraint/arrest with work positioning systems",
                    "Level 3: Install proprietary edge protection systems and barriers",
                    "Level 4: Deploy MEWPs, scaffolds, and engineered access solutions",
                    "Level 5: Administrative controls and PPE as last resort only",
                    "Document justification for control selection and reasonably practicable assessment",
                    "Ensure controls align with Australian Standards and WorkSafe Victoria requirements"
                ]
            },
            step5: {
                title: "SWMS Development",
                description: "Translate risk controls into detailed Safe Work Method Statements",
                details: [
                    "Develop comprehensive SWMS based on WPRA outcomes and control selections",
                    "Specify equipment requirements, standards, and inspection schedules",
                    "Define competency requirements and training needs for all personnel",
                    "Include detailed step-by-step work procedures and safety controls",
                    "Specify emergency response procedures and rescue arrangements",
                    "Ensure supply chain partner input, review, and formal approval",
                    "Integrate with broader project safety management systems"
                ]
            },
            step6: {
                title: "Implementation & Monitoring",
                description: "Execute controls with continuous monitoring and improvement",
                details: [
                    "Verify personnel competency and training before work commencement",
                    "Conduct comprehensive pre-work inspections and safety briefings",
                    "Monitor control effectiveness and compliance during work execution",
                    "Perform regular safety inspections and audits of height work activities",
                    "Review and update controls based on lessons learned and changing conditions",
                    "Investigate incidents, near misses, and control failures systematically",
                    "Maintain continuous improvement cycle for risk management processes"
                ]
            }
        };

        let currentStep = null;
        let animationInterval = null;

        function init() {
            // Add event listeners to all process steps
            document.querySelectorAll('.process-step').forEach(step => {
                step.addEventListener('click', handleStepClick);
                step.addEventListener('touchstart', handleTouchStart);
            });

            // Add overlay click listener
            document.getElementById('popup-overlay').addEventListener('click', closePopup);

            // Start professional animation sequence
            startAnimationSequence();
        }

        function handleStepClick(event) {
            const stepId = event.currentTarget.id;
            showPopup(stepId);
            highlightStep(stepId);
        }

        function handleTouchStart(event) {
            event.preventDefault();
            const stepId = event.currentTarget.id;
            showPopup(stepId);
            highlightStep(stepId);
        }

        function highlightStep(stepId) {
            // Remove active class from all steps
            document.querySelectorAll('.process-step').forEach(step => {
                step.classList.remove('active');
            });
            
            // Add active class to selected step
            document.getElementById(stepId).classList.add('active');
            currentStep = stepId;
        }

        function showPopup(stepId) {
            const popup = document.getElementById('popup');
            const overlay = document.getElementById('popup-overlay');
            const title = document.getElementById('popup-title');
            const description = document.getElementById('popup-description');
            const content = document.getElementById('popup-content');
            const stepData = processSteps[stepId];

            title.textContent = stepData.title;
            description.textContent = stepData.description;
            
            let detailsHtml = '<ul class="details-list">';
            stepData.details.forEach(detail => {
                detailsHtml += `<li>${detail}</li>`;
            });
            detailsHtml += '</ul>';
            
            content.innerHTML = detailsHtml;

            overlay.style.display = 'block';
            popup.style.display = 'block';

            // Auto-close after 15 seconds for professional presentation
            setTimeout(() => {
                closePopup();
            }, 15000);
        }

        function closePopup() {
            document.getElementById('popup-overlay').style.display = 'none';
            document.getElementById('popup').style.display = 'none';
            
            // Remove active class from current step
            if (currentStep) {
                document.getElementById(currentStep).classList.remove('active');
                currentStep = null;
            }
        }

        function startAnimationSequence() {
            let stepIndex = 1;
            
            animationInterval = setInterval(() => {
                // Remove active class from all steps
                document.querySelectorAll('.process-step').forEach(step => {
                    step.classList.remove('active');
                });
                
                // Add active class to current step
                const currentStepElement = document.getElementById(`step${stepIndex}`);
                if (currentStepElement) {
                    currentStepElement.classList.add('active');
                }
                
                stepIndex++;
                if (stepIndex > 6) {
                    stepIndex = 1;
                }
            }, 3000); // Slower, more professional timing
        }

        // Keyboard support for accessibility
        document.addEventListener('keydown', (event) => {
            if (event.key === 'Escape') {
                closePopup();
            }
        });

        // Initialize when page loads
        window.addEventListener('load', init);

        // Clean up on page unload
        window.addEventListener('beforeunload', () => {
            if (animationInterval) {
                clearInterval(animationInterval);
            }
        });
    </script>
</body>
</html>
